<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      font-size: 16px;
      line-height: 1.6;
      max-width: 85%;
      margin: 0 auto;
      padding: 2rem;
      color: #333;
    }
    h1, h2, h3, h4, h5, h6 {
      font-weight: 600;
      margin-bottom: 0;
    }
    h1 {
      font-size: 2em;
      margin-top: 2rem;
      background-color: #FBF3DB;
      padding: 0.5rem 0.75rem;
      border-radius: 4px;
      display: inline-block;
    }
    h2 {
      font-size: 1.5em;
      margin-top: 1.5rem;
      background-color: #DDEBF1;
      padding: 0.4rem 0.6rem;
      border-radius: 4px;
      display: inline-block;
    }
    h3 { font-size: 1.25em; margin-top: 1rem; }
    /* Heading block wrappers */
    .heading-block { margin: 0; padding: 0; }
    .heading-block h1, .heading-block h2, .heading-block h3 { margin-top: 0; }
    .h1-block { margin-top: 2rem; }
    .h2-block { margin-top: 1.5rem; }
    .h3-block { margin-top: 1rem; }
    p { margin-bottom: 1em; font-size: 16px; }
    ul, ol {
      margin-bottom: 1em;
      padding-left: 1.5em;
      list-style-position: outside;
    }
    ul { list-style-type: disc; }
    ol { list-style-type: decimal; }
    li {
      margin-bottom: 0.25em;
      display: list-item;
      font-size: 16px;
    }
    ul ul, ol ul { list-style-type: circle; }
    ul ul ul, ol ul ul { list-style-type: square; }
    ol ol { list-style-type: lower-alpha; }
    ol ol ol { list-style-type: lower-roman; }
    code {
      background: #f6f8fa;
      padding: 0.2em 0.4em;
      border-radius: 3px;
      font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
      font-size: 85%;
    }
    pre {
      background: #f6f8fa;
      padding: 1em;
      border-radius: 6px;
      overflow-x: auto;
      margin-bottom: 1em;
    }
    pre code {
      background: none;
      padding: 0;
      font-size: 100%;
    }
    blockquote {
      border-left: 4px solid #ddd;
      margin: 1em 0;
      padding-left: 1em;
      color: #666;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-bottom: 1em;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 0.75em;
      text-align: left;
    }
    th {
      background: #f6f8fa;
      font-weight: 600;
    }
    a {
      color: #0969da;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    img {
      max-width: 100%;
      height: auto;
    }
    .callout {
      background: #f7f6f3;
      padding: 1em;
      border-radius: 6px;
      display: flex;
      gap: 0.75em;
      margin-bottom: 1em;
    }
    .callout-emoji {
      font-size: 1.25em;
    }
    .video-embed {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      margin-bottom: 1em;
      border-radius: 6px;
    }
    .video-embed iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .file-download {
      background: #f6f8fa;
      border: 1px solid #e1e4e8;
      border-radius: 6px;
      padding: 1em;
      margin-bottom: 1em;
    }
    .file-download a {
      display: inline-flex;
      align-items: center;
      gap: 0.5em;
      color: #0969da;
      font-weight: 500;
    }
    .file-download a::before {
      content: 'üìé';
    }
    .page-link-block {
      display: block;
      width: 100%;
      padding: 0.5rem;
      margin: 0 -0.5rem 1em -0.5rem;
      border-radius: 0.25rem;
      transition: background-color 0.15s;
      cursor: pointer;
    }
    .page-link-block:hover {
      background-color: #f3f4f6;
    }
    .page-link-block a {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: #111827;
      font-weight: 600;
      text-decoration: underline;
    }
    .page-link-block a:hover {
      text-decoration: underline;
    }
    .page-link-block a::before {
      content: 'üìÑ';
      font-size: 1rem;
      flex-shrink: 0;
    }
    .embed-container {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      margin-bottom: 1em;
      border-radius: 6px;
      border: 1px solid #e1e4e8;
    }
    .embed-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    .columns {
      display: grid;
      gap: 1.5rem;
      margin-bottom: 1em;
    }
    .columns[data-columns="2"] {
      grid-template-columns: repeat(2, 1fr);
    }
    .columns[data-columns="3"] {
      grid-template-columns: repeat(3, 1fr);
    }
    .columns[data-columns="4"] {
      grid-template-columns: repeat(4, 1fr);
    }
    .column {
      min-height: 50px;
    }
    @media (max-width: 768px) {
      .columns {
        grid-template-columns: 1fr !important;
      }
    }
  </style>
</head>
<body>

<p>Module: Frontend<br>Assignment: Short<br>Serial: 9</p>
<h1 style="margin-top: 2rem; background-color: #FBF3DB; padding: 0.5rem 0.75rem; border-radius: 4px; display: inline-block;">Routing</h1>
<p><img src="https://raw.githubusercontent.com/classmoji-development/content-classmoji-development-25w/main/pape-test-module/assignments/short-4-routing/assets/screenshot-2025-01-27-at-10-1765494904593.png" alt="Screenshot 2025-01-27 at 10.15.13‚ÄØAM.png"></p>
<h2 style="margin-top: 1.5em; background-color: #DDEBF1; padding: 0.4rem 0.6rem; border-radius: 4px; display: inline-block;">Overview</h2>
<p>React + Routing</p>
<p>What if you want your frontend to have routes ‚Äî different URLs that map to different components and layouts of components? We‚Äôre going to add React Router to our starterpack so all your future projects can have it!</p>
<div class="callout" style="align-items: flex-start;"><span class="callout-emoji">üíª</span><span>run in Terminal<br> üöÄ : a step to not forget</span></div>
<h2 style="margin-top: 1.5em; background-color: #DDEBF1; padding: 0.4rem 0.6rem; border-radius: 4px; display: inline-block;">Let‚Äôs Update our StarterPack!</h2>
<p>üöÄ We‚Äôre going to keep working on your starterpack for this assignment. So just dig up that repo and work there! At this point you should have a starterpack that has vite+babel+eslint+sass+react.</p>
<p>For this workshop we‚Äôre just going to add React Router to your personal starter repository so now you‚Äôll have vite+babel+eslint+sass+react+reactrouter! Wow.</p>
<p><em>Note: if you forgot to push the react stuff from the first few steps of the <a href="https://cs52.me/assignments/sa/react-videos">React Videos assignment</a> to your starterpack, you should go back and do that now! You can simply do those steps now directly in your starterpack repo.</em>  </p>
<p>üöÄ Before we start‚Ä¶ let‚Äôs make a feature branch! </p>
<pre><code class="language-bash">#make sure you are in your starterpack repo root directory, not your react-videos or other
git pull origin main
#remember to pull in changes that we might have done separately on github
git checkout -b add_routing
</code></pre>
<h2 style="margin-top: 1.5em; background-color: #DDEBF1; padding: 0.4rem 0.6rem; border-radius: 4px; display: inline-block;">Start adding in routing</h2>
<pre><code class="language-bash">npm install react-router@latest
</code></pre>
<h2 style="margin-top: 1.5em; background-color: #DDEBF1; padding: 0.4rem 0.6rem; border-radius: 4px; display: inline-block;">Done</h2>
<p>Now you have added React Router to your starter package!</p>
<p><a href="https://reacttraining.com/react-router/web/example/basic">React Router</a> has undergone some major rewrites and the current version 7 is a complete overhaul. It has gone from single route definition, to composable routes, to hooks based smart routing, as well as data fetching. We‚Äôll be using it in <a href="https://reactrouter.com/start/declarative/installation">Declarative Mode</a> rather than as a Framework for now.  <em>But, Framework mode is pretty cool, check it out once you are comfortable.</em> </p>
<h2 style="margin-top: 1.5em; background-color: #DDEBF1; padding: 0.4rem 0.6rem; border-radius: 4px; display: inline-block;">Route setup</h2>
<p>What we want to do is have the following URL structure:</p>
<ul>
<li><code>/</code> displays <code>Welcome</code> component and <code>Nav</code> component.</li>
<li><code>/about</code> displays <code>About</code> component + <code>Nav</code>.</li>
<li><code>/test/id</code> displays <code>Test</code> component and shows ID from url + <code>Nav</code></li>
</ul>
<p>This will demonstrate the power of routing and we‚Äôll be using this in our next lab as well.</p>
<h2 style="margin-top: 1.5em; background-color: #DDEBF1; padding: 0.4rem 0.6rem; border-radius: 4px; display: inline-block;">Let‚Äôs Build Some Test Components</h2>
<p>Go ahead and create three very simple function based components. You can make these in your <code>index.jsx</code> file for now.</p>
<pre><code class="language-jsx">const About = (props) =&gt; {
return &lt;div&gt; All there is to know about me &lt;/div&gt;;
};
const Welcome = (props) =&gt; {
return &lt;div&gt;Welcome&lt;/div&gt;;
};
</code></pre>
<p>üöÄ Now let‚Äôs import in some routing magic</p>
<pre><code class="language-jsx">import { BrowserRouter, Routes, Route, NavLink } from &#39;react-router&#39;;
</code></pre>
<p>üöÄ And let‚Äôs add in some routes in our <code>App</code> component. For now it can just be a function component.</p>
<pre><code class="language-jsx">const App = (props) =&gt; {
return (
&lt;BrowserRouter&gt;
&lt;div&gt;
&lt;Nav /&gt;
&lt;Routes&gt;
&lt;Route path=&quot;/&quot; element={&lt;Welcome/&gt;} /&gt;
&lt;Route path=&quot;/about&quot; element={&lt;About/&gt;} /&gt;
&lt;/Routes&gt;
&lt;/div&gt;
&lt;/BrowserRouter&gt;
);
};
</code></pre>
<p>Woop, we forgot our <code>Nav</code> component, that is essential.</p>
<pre><code class="language-jsx">const Nav = (props) =&gt; {
return (
&lt;nav&gt;
&lt;ul&gt;
&lt;li&gt;&lt;NavLink to=&quot;/&quot;&gt;Home&lt;/NavLink&gt;&lt;/li&gt;
&lt;li&gt;&lt;NavLink to=&quot;/about&quot;&gt;About&lt;/NavLink&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/nav&gt;
);
};
</code></pre>
<p>Here we use a special react-router <code>NavLink</code> component rather than an anchor tag. <code>NavLink</code> by default adds an <code>active</code> class to the link you are currently on, which is pretty cool.</p>
<p>In your <code>style.scss</code> file add:</p>
<pre><code class="language-css">.active {
color: pink;
}
</code></pre>
<p>(don‚Äôt forget <code>import &#39;../style.scss&#39;;</code> in app)</p>
<p>Ok, test this out. What you should have when you first load the page is some links in the top nav that show up on every page, but when you click them they navigate the page and also change to the highlighted color. </p>
<p>Great, ok let‚Äôs add in one more component to test with. üëç</p>
<h2 style="margin-top: 1.5em; background-color: #DDEBF1; padding: 0.4rem 0.6rem; border-radius: 4px; display: inline-block;">URL Parameters</h2>
<p>So what if you want is to be able to pass in a URL parameter. Something like <code>profile/some_id</code> where <code>some_id</code> might be how Facebook does your profile url: <code>profile/username</code></p>
<p>Turns out we can do that!</p>
<p>üöÄ Add in a new route:</p>
<pre><code class="language-jsx">&lt;Route path=&quot;/test/:id&quot; element={&lt;Test/&gt;} /&gt;
</code></pre>
<pre><code class="language-jsx">const Test = (props) =&gt; {
const { id } = useParams();
return &lt;div&gt; ID: {id} &lt;/div&gt;;
};
</code></pre>
<p>We use the <code>useParams</code> hook to get an object with any extracted params. Note the destructuring assignment where we pull out id from that returned dictionary. This is given to us by react router for every path. We can use it for some cool things like knowing what url we are on, but also for parsing out any URL parameters that we defined!</p>
<p>Let‚Äôs add in some links to our Nav as well:</p>
<pre><code class="language-jsx">&lt;li&gt;&lt;NavLink to=&quot;/test/id1&quot;&gt;test id1&lt;/NavLink&gt;&lt;/li&gt;
&lt;li&gt;&lt;NavLink to=&quot;/test/id2&quot;&gt;test id2&lt;/NavLink&gt;&lt;/li&gt;
</code></pre>
<p>Try it out. Cool. The ‚Äú/path/:parameter‚Äù style of defining a http route is very common and used in many frameworks.</p>
<h2 style="margin-top: 1.5em; background-color: #DDEBF1; padding: 0.4rem 0.6rem; border-radius: 4px; display: inline-block;">Unknown Routes</h2>
<p>What happens if we type in a route that is unknown to the router. Currently that would mean that it would not match any of existing <code>Route</code> components and so will display the <code>Nav</code> and nothing else. But what if we wanted a fallback route?</p>
<p>React-Router let‚Äôs us do this with a <code>Routes</code> component ‚Äì this component wraps <code>Route</code> components and returns ones that match the path. <em>By default if multiple Routes match they will all render.</em></p>
<p>üöÄ Wrap your <code>Route</code>s in a <code>Routes</code> element and add in a <code>FallBack</code> component that will always match (with no <code>path</code> specified):</p>
<pre><code class="language-jsx">&lt;Routes&gt;
&lt;Route path=&quot;/&quot; element={&lt;Welcome /&gt;} /&gt;
&lt;Route path=&quot;/about&quot; element={&lt;About /&gt;} /&gt;
&lt;Route path=&quot;/test/:id&quot; element={&lt;Test /&gt;} /&gt;
&lt;Route path=&quot;*&quot; element={&lt;FallBack /&gt;} /&gt;
&lt;/Routes&gt;
</code></pre>
<pre><code class="language-jsx">const FallBack = (props) =&gt; {
return &lt;div&gt;URL Not Found&lt;/div&gt;;
};
</code></pre>
<h2 style="margin-top: 1.5em; background-color: #DDEBF1; padding: 0.4rem 0.6rem; border-radius: 4px; display: inline-block;">Root Path</h2>
<p>There is one tricky bit with paths that we have to contend with. The problem is that say you go to your <code>yoursite.com/posts/id</code> when in point of fact the resource <code>/posts/id/index.html</code> does not exist on the server.  This is a single page app, so there is only 1 index.html file at the root.  Vite happens to know that it should serve up <code>/index.html</code> file for every resource URL that it can‚Äôt find, but various hosting providers may not do this automatically.  </p>
<h3 style="margin-top: 1.25em;">RENDER.com</h3>
<p><em>Note: simply update your previous hosting setup - you don‚Äôt need to have a new link since we‚Äôre just updating the starterpack we did previously.</em></p>
<p>We would like <a href="http://render.com">render.com</a> to set up <a href="https://render.com/docs/redirects-rewrites">redirects and rewrites</a> to help use route all urls to our <code>index.html</code> file. </p>
<p>üöÄ¬†go to Redirects/Rewrites and add in <code>/*</code> pointing to <code>/index.html</code> as a rewrite.</p>
<p><img src="https://raw.githubusercontent.com/classmoji-development/content-classmoji-development-25w/main/pape-test-module/assignments/short-4-routing/assets/screen-shot-2022-04-21-at-8-1765494904593.png" alt="Screen Shot 2022-04-21 at 8.26.40 AM.png"></p>
<p>And you are done!</p>
<h2 style="margin-top: 1.5em; background-color: #DDEBF1; padding: 0.4rem 0.6rem; border-radius: 4px; display: inline-block;">Test Your Deployed URL</h2>
<p>Check it out in your browser. Try changing the url to <code>/badlink</code>, it should load your test app and hit the fallback route!</p>
<h2 style="margin-top: 1.5em; background-color: #DDEBF1; padding: 0.4rem 0.6rem; border-radius: 4px; display: inline-block;">Commit, PR, Merge!</h2>
<p>Don‚Äôt forget, this is the last time we‚Äôll tell you how to do it:</p>
<ol>
<li>git commit</li>
<li>git push origin add_routing</li>
<li>create a PR to <code>main</code> and merge in your <code>add_routing</code> branch.</li>
</ol>
<h2 style="margin-top: 1.5em; background-color: #DDEBF1; padding: 0.4rem 0.6rem; border-radius: 4px; display: inline-block;">To Turn In</h2>
<ul>
<li>üëâ¬†The GitHub assignment Issue will be considered your submission! <strong>To officially turn it in, please comment on the Issue in the repository when you have completed the assignment and mark it Closed.</strong><details><summary>üôè¬†In your comment please include:</summary><div><ul>
<li><strong>link to deployed hosted version of the page (render.com)</strong></li>
<li>brief summary of what worked and what didn‚Äôt</li>
<li>remember you must cite external sources when you include other people‚Äôs code, chatGPT, etc</li>
</ul>
</div></details>
<details><summary>your starter pack should now</summary><div><ul>
<li>have working test routes</li>
<li>be deployed to <a href="http://render.com">render.com</a> with rewrites set up.</li>
<li>lint correctly</li>
<li>have fallback routes working</li>
</ul>
</div></details></li>
</ul>
<h2 style="margin-top: 1.5em; background-color: #DDEBF1; padding: 0.4rem 0.6rem; border-radius: 4px; display: inline-block;">Resources</h2>
<ul>
<li><a href="https://reactrouter.com">https://reactrouter.com</a></li>
</ul>

</body>
</html>